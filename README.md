# python-2025.11.8-cn-python-exe
注意这是一个命令提示符-不要用于违法用途：如果用于违法用途本人概不负责！！！
# Python PC 端命令提示符工具使用声明
本声明针对由 Python 编写的 PC 端命令提示符工具（以下简称 “本工具”，支持 Windows、macOS、Linux 系统），旨在明确工具的使用边界、责任划分及特殊功能规则，保障用户合法合规使用。所有使用本工具的用户（以下简称 “用户”），在使用前应仔细阅读并充分理解本声明，一旦开始使用，即视为已接受本声明全部条款。
# 一、工具定位与用途
本工具为辅助性终端操作工具，核心功能包括基础目录管理（切换、列出目录）、系统命令执行、自定义开发者模式等，仅用于合法的个人学习、日常办公或技术调试场景，不得用于任何违反法律法规、行业规范或损害他人合法权益的活动。
本工具不具备突破系统权限、窃取数据、破坏网络安全等功能，亦不提供任何用于违法操作的技术支持，用户需自行确保使用场景的合法性。
# 二、开发者模式特殊说明
本工具设有 “开发者模式”，该模式仅面向具备一定终端操作经验的用户，用于进阶功能调试，其启用规则如下：
激活条件：需在工具交互界面输入指定命令 python cn 2025.11.8，验证通过后方可启用；
功能限制：模式启用后，工具默认的 “命令补全（Tab 补全）” 功能将自动隐藏，以减少进阶操作中的干扰，用户需手动完整输入命令；
使用提示：开发者模式下的操作对系统文件、目录的影响风险更高，用户需谨慎执行命令，避免因误操作导致数据丢失或系统异常。
# 三、免责声明
禁止违法用途：用户不得利用本工具实施任何违法犯罪行为，包括但不限于：未经授权访问他人计算机系统、窃取或篡改他人数据、传播恶意程序、违反国家网络安全法规及其他相关法律规定的行为。若用户违反本条款，由此产生的一切法律责任（包括但不限于行政责任、刑事责任、民事赔偿责任）均由用户自行承担，与本工具开发者无任何关联。
工具局限性免责：本工具为开源辅助工具，开发者已尽合理努力确保功能稳定性，但不保证工具完全无漏洞或适配所有 PC 系统环境。因工具自身缺陷、版本兼容问题或用户操作失误导致的任何损失（包括但不限于数据丢失、系统故障、业务中断等），开发者不承担任何赔偿责任。
用户修改责任：用户若对本工具的源代码进行修改、二次开发或整合到其他软件中，由此产生的所有风险（包括但不限于功能异常、安全隐患）均由用户自行承担，开发者不对修改后的版本负责。
信息准确性免责：本工具的帮助文档、使用指南仅为操作参考，开发者不保证其中信息完全无遗漏或实时更新，用户应结合自身使用场景自行判断信息的适用性。
# 四、其他说明
本声明的最终解释权归本工具开发者所有，开发者有权根据法律法规更新或工具版本迭代，对本声明内容进行修改，修改后的声明将通过工具官方发布渠道（如代码仓库、README 文档）公示，无需单独通知用户，公示后即生效。
若用户对本声明有异议，应立即停止使用本工具；若继续使用，即视为接受修改后的声明条款。
生效日期：本声明自发布之日起生效。
#                         2025.11.8
# Python PC 端命令提示符工具源代码公开及使用规定声明
本声明针对 “Python PC 端命令提示符工具”（以下简称 “本工具”，支持 Windows、macOS、Linux 系统）的源代码（包括但不限于主程序文件python_terminal.py、测试文件test_terminal.py、说明文档README.md及相关配套代码，以下简称 “本源代码”），明确源代码公开范围、他人使用权限、责任边界及知识产权相关规则。任何获取、查看、使用、修改本源代码的个人或组织（以下简称 “使用者”），在接触本源代码前应仔细阅读本声明，一旦开始使用本源代码，即视为已完全理解并接受本声明全部条款。
# 一、源代码公开说明
公开范围
本源代码全部公开，包含工具核心功能实现代码（目录管理、命令执行、开发者模式逻辑等）、测试代码、使用说明文档及配置示例，无隐藏代码或未公开的核心模块。
公开渠道
本源代码将通过合法开源代码托管平台（如 GitHub、Gitee 等）公开，使用者可通过平台指定链接获取完整源代码，获取过程无需支付任何费用，无需签署额外许可协议（本声明即视为核心使用许可依据）。
公开目的
源代码公开旨在促进技术交流与学习、接受社区监督以优化工具功能、为开发者提供终端工具开发参考，不代表允许任何形式的滥用或侵权使用。
# 二、他人使用权限与规则
# （一）合法使用权限
非商业用途使用
使用者可将本源代码用于个人学习、技术研究、非盈利性项目开发：
可自由查看、分析源代码逻辑，用于学习 Python 终端开发、跨平台适配等技术；
可在非盈利性场景中引用本源代码的部分功能模块（需标注来源），如个人毕业设计、开源社区技术分享项目。
修改与二次开发（非商业场景）
使用者可基于本源代码进行修改或二次开发（仅限非商业用途），但需遵守以下规则：
必须完整保留源代码中原有版权声明、本使用规定及免责条款，不得删除或篡改；
需在修改后的代码中清晰标注 “基于 [原工具名称及源代码链接] 修改”，并说明具体修改内容（如新增功能、修复漏洞等）；
二次开发成果若对外公开，需以相同的 “非商业开源” 形式发布，不得将修改后的代码用于商业闭环产品。
技术反馈与贡献
使用者可通过公开代码平台的 “Issues”“Pull Request” 等功能，向本工具原开发者反馈源代码漏洞、提出功能优化建议，或提交合规的代码修改方案，原开发者可根据需求决定是否采纳，采纳后将在源代码更新记录中标注贡献者信息。
# （二）禁止性使用规则
禁止商业滥用
未经本工具原开发者书面授权，使用者不得将本源代码或基于本源代码修改后的代码，用于任何商业场景，包括但不限于：
将本源代码整合至商业软件（如付费终端工具、企业级系统管理软件）并出售；
利用本源代码开发商业服务（如提供收费的终端定制服务、技术支持服务）；
以 “开源代码” 名义获取本源代码后，通过隐藏修改、包装外壳等方式将其转化为商业产品。
禁止违法与恶意使用
使用者不得利用本源代码实施任何违反法律法规、损害他人合法权益的行为，包括但不限于：
修改源代码以添加恶意功能（如窃取用户数据、远程控制他人设备、传播恶意程序等）；
利用源代码突破系统权限限制，实施未经授权的计算机访问、数据篡改或破坏操作；
将源代码或修改后的代码用于违反国家网络安全、数据保护、知识产权等相关法律规定的场景。
禁止篡改与误导性传播
使用者不得篡改本源代码的核心逻辑、版权信息或使用说明，不得通过以下方式误导他人：
删除原源代码中的版权声明、免责条款或本使用规定，声称代码为 “原创”；
隐瞒源代码修改内容，将含漏洞或恶意功能的代码伪装为 “原版本代码” 传播；
以本工具名义发布与原源代码无关的代码，误导他人认为其为 “官方更新版本”。
# 三、责任边界与免责说明
使用风险自行承担
使用者获取、使用、修改本源代码后，因代码使用或二次开发导致的任何损失（包括但不限于计算机系统故障、数据丢失、业务中断、第三方索赔等），均由使用者自行承担，本工具原开发者不承担任何直接或间接责任。
修改版本责任划分
基于本源代码修改后的代码（含二次开发成果），其功能稳定性、安全性及合法性均由修改者负责，原开发者不对修改版本的任何问题（如功能异常、安全漏洞、侵权纠纷等）承担责任；若修改版本引发法律纠纷，修改者需独立承担全部法律责任，与原开发者无涉。
开源平台相关免责
本源代码虽通过开源平台公开，但原开发者不对平台自身的服务稳定性、数据安全负责；若因平台故障导致源代码无法获取、被篡改或泄露，原开发者不承担责任，使用者可通过平台官方渠道反馈问题。
# 四、知识产权声明
原源代码版权归属
本源代码的完整版权归本工具原开发者所有，受《中华人民共和国著作权法》及相关国际条约保护，原开发者享有源代码的修改权、复制权、发行权、信息网络传播权等全部法定权利。
修改部分版权约定
使用者基于本源代码进行的修改内容，其版权归修改者所有，但修改者需在代码中明确区分 “原代码部分” 与 “修改部分”，不得主张对原代码部分的任何知识产权；若修改内容涉及创新性功能且符合著作权保护条件，修改者可单独享有该部分的版权，但不得以此对抗原源代码的原有版权。
侵权追责
若使用者违反本声明约定，侵犯本源代码的知识产权（如篡改版权信息、未授权商业使用、恶意传播侵权代码等），原开发者有权依法追究其法律责任，要求其停止侵权行为、赔偿经济损失，并保留向相关监管部门举报的权利。
# 五、其他条款
声明修改与更新
本声明内容可由原开发者根据法律法规变化、工具版本迭代或使用场景调整进行修改，修改后的声明将通过源代码公开平台同步更新，无需单独通知使用者；使用者后续使用本源代码时，应以最新版本声明为准。
争议解决
因本源代码使用引发的任何争议，应优先由使用者与原开发者协商解决；协商不成的，任何一方可向原开发者所在地有管辖权的人民法院提起诉讼。
# 生效日期
本声明自本源代码在公开平台发布之日起生效，长期有效。
原开发者联系方式：[邮箱：nanjuong@outlook.com、开源平台账号等官方联系方式，便于使用者沟通授权或反馈问题]
# Python终端 (命令提示符)

这是一个用Python编写的功能增强版跨平台终端程序，兼容Windows、macOS和Linux系统。

## 功能特点

### 基本功能
- 跨平台兼容（Windows、macOS、Linux）
- 交互式命令行界面
- 支持通过命令行参数执行单个命令

### 新增功能
- **常用命令支持**：`pwd`（显示当前路径）、`mkdir`（创建目录）、`rm`（删除文件/目录）
- **命令历史记录**：使用上下箭头键调用过往命令
- **命令补全功能**：按Tab键补全命令或文件/目录名
- **增强版目录列表**：显示文件大小、修改时间等详细信息，按类型分类排序
- **自定义提示符**：支持通过配置文件或命令行参数自定义提示符样式
- **高危命令保护**：对潜在危险命令进行二次确认
- **命令超时控制**：防止长时间运行的命令占用资源
- **完善的错误处理**：提供详细的错误信息和分类提示
- **配置文件支持**：保存用户设置和偏好

## 支持的命令

- `cd <目录>` - 切换目录
- `pwd` - 显示当前路径
- `dir` - 列出当前目录内容（增强版）
- `mkdir <目录>` - 创建新目录
- `rm <文件/目录>` - 删除文件（支持 `rm -r` 删除目录）
- `cls`/`clear` - 清屏
- `exit`/`quit` - 退出终端
- `help` - 显示帮助信息
- 其他命令将作为系统命令执行

## 使用方法

### 交互式模式

<!-- 用户选中的运行命令部分 -->
在命令行中运行：
```
python python_terminal.py  # 这是启动交互式模式的命令
```
<!-- 运行此命令后，将进入交互式终端界面，可以输入各种命令 -->

### 执行单个命令

```
python python_terminal.py -c "你的命令"
```

例如：
```
python python_terminal.py -c "dir"
python python_terminal.py -c "echo Hello World"
```

### 自定义提示符

通过命令行参数临时设置：
```
python python_terminal.py --prompt "{username}@{hostname}:{current_dir}$ "
```

提示符变量：
- `{current_dir}` - 当前工作目录
- `{username}` - 用户名
- `{hostname}` - 主机名
- `{time}` - 当前时间（格式：HH:MM:SS）

## 配置文件

程序使用JSON格式的配置文件存储用户偏好设置：
- Windows: `C:\Users\<用户名>\AppData\Roaming\PyTerminal\config.ini`（注意虽然扩展名为.ini，但内容是JSON格式）
- macOS/Linux: `~/.pyterminal_config.ini`（注意虽然扩展名为.ini，但内容是JSON格式）

### 配置项说明

```json
{
  "prompt": "[%time%] %user%@%host%:%dir%> ",
  "cmd_timeout": 15,
  "save_history": true,
  "high_risk_commands": [
    "rm -rf /",
    "format c:",
    "del *.* /q"
  ],
  "max_history_size": 1000
}```

- `prompt`: 提示符格式，支持%time%/%user%/%host%/%dir%变量
- `cmd_timeout`: 命令执行超时时间（默认15秒）
- `save_history`: 是否保存命令历史（默认true）
- `high_risk_commands`: 高危命令列表，执行这些命令时会要求二次确认
- `max_history_size`: 最大历史记录条数

## 新增命令（PC端专属）
- `mkdir <目录名>` - 创建目录（示例：mkdir my_project）
- `rm <文件/目录>` - 删除文件（rm test.txt）或目录（rm -r my_project，需二次确认）
- `cp <源文件> <目标路径>` - 复制文件（示例：cp report.pdf ./backup/）

## 个性化配置（PC端）
1. 配置文件路径：
   - Windows：C:\Users\<你的用户名>\AppData\Roaming\PyTerminal\config.ini（JSON格式）
   - macOS/Linux：~/.pyterminal_config.ini（JSON格式）
2. 可修改的配置：
   - `prompt`：提示符格式（支持%time%/%user%/%host%/%dir%变量）
   - `cmd_timeout`：命令超时时间（默认15秒）
   - `save_history`：是否保存命令历史（布尔值）
   - `high_risk_commands`：高危命令列表（数组格式）
   - `max_history_size`：最大历史记录条数（数值）

## 常见问题（PC端）
Q：Tab键补全不生效？
A：确保Python版本≥3.6，且未修改readline相关代码。

Q：执行命令提示"权限不足"？
A：Windows下右键终端选择"以管理员身份运行"；Linux/macOS前加sudo（如sudo rm -r test_dir）。

## 系统要求

- Python 3.6 或更高版本
- 推荐安装 readline 库（Linux/macOS系统通常已安装，Windows可安装 pyreadline3）

## 安装依赖（Windows系统）

```
pip install pyreadline3
```

## 开发指南

### 如何新增命令

1. 使用命令注册器添加新命令：
   ```python
   @register_command('new_command')
   def handle_new_command(command):
       # 实现命令逻辑
       pass
   ```
   或者直接注册：
   ```python
   register_command('new_command', my_command_handler)
   ```
2. 遵循现有的错误处理模式，提供详细的错误信息
3. 在 `display_help` 函数中更新帮助文档

### 如何扩展功能

1. **添加配置项**：
   - 在 `DEFAULT_CONFIG` 中添加新的配置项
   - 确保代码中使用 `config.get()` 获取配置值，并提供默认值
   - 配置会以JSON格式保存到配置文件

2. **实现插件机制**：
   项目支持通过 `test_plugin.py` 和 `test_register.py` 示例来了解插件扩展方式

3. **优化用户界面**：
   - 可以修改 `get_custom_prompt` 函数以支持更多提示符格式
   - 可以增强 `enhanced_dir` 函数以提供更多文件信息展示选项

## 注意事项

- 在Windows系统上，内部命令通过 `shell=True` 执行
- 在Unix系统上，命令通过 `shlex.split` 分割参数后执行，更安全
- 命令历史记录保存在 `~/.python_terminal_history` 文件中
- 配置文件使用JSON格式，确保编辑时保持正确的JSON语法
- 使用Ctrl+C可以中断当前命令的执行，但不会退出终端
- 使用Ctrl+D可以退出终端（Unix系统）

## 安全考虑

- 程序会对高危命令进行二次确认，防止误操作
- 支持命令超时控制，避免资源滥用
- 处理特殊字符输入，避免解析错误

## 作者

Python命令提示符项目

## 许可证

这个项目是开源的，欢迎自由使用和修改。